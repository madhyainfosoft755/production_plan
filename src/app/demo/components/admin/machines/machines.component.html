<p-breadcrumb [model]="breadcrumbItems"></p-breadcrumb>
<div class="card">
    <div class="grid">
        <div class="col-12">
            <div class="p-2">
                <p-button label="Add New" icon="pi pi-plus" (onClick)="showAddMachineDialog()" />
            </div>
            <p-table [loading]="loadingMD" [value]="machinesData" [tableStyle]="{ 'min-width': '50rem' }">
                <ng-template pTemplate="header">
                    <tr>
                        <th>SN</th>
                        <th>Process</th>
                        <th>Machine Name</th>
                        <th>Machine-1</th>
                        <th>No.OF M/C</th>
                        <th>Speed</th>
                        <th>No. Of Shift</th>
                        <th>Added At</th>
                        <!-- <th>Action</th> -->
                    </tr>
                </ng-template>
                <ng-template pTemplate="body" let-machine let-rowIndex="rowIndex">
                    <tr>
                        <td>{{ rowIndex+1 }}</td>
                        <td>{{ machine.process }}</td>
                        <!-- <td><a [routerLink]="['/machines/machine-details', machine.id]">{{ machine.machine_name }}</a></td> -->
                        <td>{{ machine.machine_name }}</td>
                        <td>{{ machine.machine_1 }}</td>
                        <td>{{ machine.no_of_mc }}</td>
                        <td>{{ machine.speed }}</td>
                        <td>
                            <span *ngFor="let shift of machine.shifts" class="border-1 border-primary-500 p-2 border-round m-2">Shift-{{shift.number}}</span>
                        </td>
                        <td>{{ machine.created_at | date:'shortDate' }}</td>
                        <!-- <td>
                            <button (click)="navigateToMachineDetails(machine.id)">Edit</button>
                        </td> -->
                    </tr>
                </ng-template>
            </p-table>
        </div>
    </div>
</div>
<p-dialog header="Add Machine" [modal]="true" [(visible)]="visibleAddMachineDialog" [style]="{ width: '50vw' }">
    <app-machine-details *ngIf="visibleAddMachineDialog" (notifyParent)="onChildNotify($event)"></app-machine-details>
</p-dialog>